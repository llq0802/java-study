## 原码、反码、补码

对于有符号数而言：

1. 二进制的最高位是符号位：0 表示正数，1 表示负数。
2. 正数的原码、反码、补码都一样。
3. 负数的反码 = 原码符号位不变，其他位取反（0 变 1，1 变 0）
4. 负数的补码 = 反码 + 1。也就是说，负数的反码 = 补码 - 1。
5. 0 的反码、补码都是 0。
6. Java 没有无符号数。换言之，Java 的数都是有符号的。
7. 计算机运算时，都是以补码的方式来运算的。
8. 当我们看运算结果时，要看其原码。

## 位运算符

& 按位与：两位都为 1，结果为 1，否则为 0

| 按位或：两位有一个为 1，结果为 1，否则为 0

^ 按位异或：两位不同，结果为 1，否则为 0

~ 按位取反：把 0 变 1，1 变 0

以下是几个示例：

2 & 3：

2 的原码：00000000 00000000 00000000 00000010

2 的补码：00000000 00000000 00000000 00000010

3 的原码：00000000 00000000 00000000 00000011

3 的补码：00000000 00000000 00000000 00000011

补码运算结果：00000000 00000000 00000000 00000010

结果转成原码：00000000 00000000 00000000 00000010

运算结果：2

~-2：

得到 -2 的原码：10000000 00000000 00000000 00000010

得到 -2 的反码：11111111 11111111 11111111 11111101

得到 -2 的补码：11111111 11111111 11111111 11111110

补码运算结果：00000000 00000000 00000000 00000001

结果转成原码：00000000 00000000 00000000 00000001

运算结果：1

~2：

2 的原码：00000000 00000000 00000000 00000010

2 的补码：00000000 00000000 00000000 00000010

补码运算：11111111 11111111 11111111 11111101

结果转成反码：11111111 11111111 11111111 11111100

反码转成原码：10000000 00000000 00000000 00000011

运算结果：-3

> > 算术右移：低位溢出，符号位不变，用符号位补溢出的高位

<< 算数左移：符号位不变，低位补 0

> > > 逻辑右移（无符号右移）：低位溢出，高位补 0

下面是示例：

将数字 1 算术右移 2 位：int a = 1 >> 2

1 的补码：00000000 00000000 00000000 00000001

补码结果：00000000 00000000 00000000 00000000

结果：00000000 00000000 00000000 00000000

将数字 1 算术左移 2 位：int b = 1 << 2

1 的补码：00000000 00000000 00000000 00000001

补码结果：00000000 00000000 00000000 00000100

结果：00000000 00000000 00000000 00000100

也就是说，1 << 2 本质是 1 _ 2 _ 2 = 4

而 1 >> 2 本质是 1 / 2 / 2 = 0

使用细节：

位运算符只对整型、字符类型有效

移位运算中，左侧操作 int 的场合，右侧操作数以 32 取模；long 的场合，右侧操作数以 64 取模。
